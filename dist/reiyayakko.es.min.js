const e=e=>Object.prototype.toString.call(e).slice(8,-1),t=e=>void 0===e,r=e=>null===e||t(e),n=t=>"Number"===e(t),i=t=>"Function"===e(t),s=e=>"object"==typeof e&&null!==e,o=e=>i(e)||s(e),c=t=>"Arguments"===e(t),a=e=>{if(2===e)return!0;if(isNaN(e)||!Number.isFinite(e)||e<2||e%2==0)return!1;for(let t=3,r=Math.sqrt(e);t<=r;t+=2)if(e%t==0)return!1;return!0},u=Object.prototype.hasOwnProperty.call,l=(...e)=>{const t=[];for(const r of e)t.push(Object.getOwnPropertyNames(r)),t.push(Object.getOwnPropertySymbols(r));return t.flat()},p=(e={},t={})=>{for(const r of l(t)){const n=t[r];"object"==typeof n?p(e[r],n):e[r]=n}return e},f=new WeakMap,h=e=>!!s(e)&&!(!Array.isArray(e)&&!c(e)&&0!==e.length),m=function*(e,r,n=1){if(t(r))yield*m(0,e);else{for(n=Math.abs(n),e>r&&(n=-n);Math.abs(r-e)>=Math.abs(n);)yield e,e+=n;yield e}},b=(e,r,n)=>{for(const i of e){const e=r.call(n,i);if(!t(e))return e}},g=(e,r,n)=>b(m(--e),e=>{const i=r.call(n,e);if(!t(i))return i}),y=(e,t,r)=>i(e)?e.apply(r,t):e,d=(e,t=r)=>e.reduce((e,r)=>t(e)?r:e,e.shift());var O=Object.freeze({__proto__:null,argument:function(){return arguments},restSplit:(e,t,r=0)=>{const n=e.length-r,i=e.slice(t,n);return e.splice(t,n-t,i),e},memoize:(e,t=1/0)=>{const r=function(){const t=forOf(r.memo,(e,t)=>{if(deepEquals(e))return t});if(isUndefined(t))return t;const n=e.apply(this,arguments);return r.memo.set(arguments,n),n};if(Array.isArray(t))r.memo=new Array(t.length),g(t.length,e=>{r.memo[e]=new Map(t[e])});else{const e=substitute([t,1],e=>!Number.isFinite(e));r.memo=new Array(e),g(e,e=>{r.memo[e]=new Map})}return r},MemoMap:class{constructor(e){this.map=new Map(e)}},isUndefined:t,isNull:r,isBoolean:t=>"Boolean"===e(t),isString:t=>"String"===e(t),isNumber:n,isSymbol:t=>"Symbol"===e(t),isFunction:i,isObject:s,isObjectLike:o,isArguments:c,isRegExp:t=>"RegExp"===e(t),isError:t=>"Error"===e(t),isMap:t=>"Map"===e(t),isWeakMap:t=>"WeakMap"===e(t),isSet:t=>"Set"===e(t),isWeakSet:t=>"WeakSet"===e(t),isNegative:e=>n(e)&&e<0,isPrime:a,isArrayLike:h,isEmpty:t=>"String"===e(t)||h(t)?0===t.length:"Object"===e(t)&&0===l(t).length,isThrowError:(e,...t)=>{try{return e.apply(void 0,t),!1}catch(e){return!0}},forOf:b,forIndex:g,forIn:(e,t,r)=>("object"==typeof e&&(e=Object.entries(e)),g(e.length,n=>t.call(r,e[n]))),doWhile:(e,r)=>{let n;do{n=e.call(r)}while(t(n));return n},previous:(e,t,r)=>{for(;e--;)r=t(r);return r},inOrder:(e,...t)=>{for(const r of t)e=r(e);return e},iterate:function*(e){e[Symbol.iterator]&&(yield*e),function(){return{next:()=>({value:void 0,done:!1})}}.call(e)},typeOf:e,callorElse:y,substitute:d,typeCheck:(t,r,n,i=e)=>{const s=i(t);return r.includes(s)?t:y(n,[s])},prop:(e,t,r)=>Object.entries(e).reduce((e,[n,i])=>(e[i]=d([n,t[i]],r),e)),equals:(...e)=>{let t=e.shift();return e.every(e=>Number.isNaN(t)?Number.isNaN(t=e):t===(t=e))},toPrimitive:e=>s(e)?"valueOf"in e?e.valueOf():"toString"in e?e.toString():Symbol&&Symbol.toPrimitive in e?e[Symbol.toPrimitive]("default"):e:e,debounce:(e,t)=>{let r;return function(){clearTimeout(r),r=setTimeout(e.apply,t,this,arguments)}},uniq:e=>{const t=[];return e.filter(e=>{const r=t.includes(e);return r||t.push(e),!r})},range:m,zip:(e,t=Object.keys)=>{const r=t(e),i=h(e),s=r.every(r=>h(e[r])&&t(e[r]).every(n));return r.reduce((r,n)=>(t(e[n]).forEach(t=>{r[t]||(r[t]=i?[]:{}),r[t][n]=e[n][t]}),r),s?[]:{})}});const v=e=>{console.log(`type: '${e.type}'`,[e.value]);let t=e.value;if("object"!=typeof t)return e;switch(e.type){case"object":t=((e,t,r)=>{const n=e.getAllKeys(t),i=Object.getPrototypeOf(t);return t=n.reduce((n,i)=>{const s=Object.getOwnPropertyDescriptor(t,i);return s.hasOwnProperty("value")&&(s.value=e.cloneMod(s.value,r)),Object.defineProperty(n,i,s),n},Object.create(i))})(modules,t,e);break;case"array":t=t.map(t=>modules.cloneMod(t,e));break;case"number":return new Number(t);case"string":return new String(t);case"boolean":return new Boolean(t);case"bigint":return t.valueOf();case"regexp":return new RegExp(t);case"null":t=null;break;case"date":return new Date(t);case"map":{const e=new Map;for(const[r,n]of t)e.set(r,modules.clone(n));return e}case"weakmap":{const e=new WeakMap;for(const[r,n]of t)e.set(r,modules.clone(n));return e}case"set":return new Set(t);case"weakset":return new WeakSet(t);default:return null}return e.object=t,e};class w{constructor(e,t={}){this.value=e,this.existingObjects=t.existingObjects||new WeakSet,this.isDone=!1}done(){return this.isDone=!0,this.value}get isExisting(){return this.existingObjects.has(this.value)}get type(){return typeOf(this.value)}}const j=(e,t={})=>{const{keys:r=l,depth:n=0,maxDepth:i=1/0,existing:s=new WeakSet}=t;y(t.structureFunc,[e]);for(const c of r(e))o(e[c])?(y(t.propStructure,[e,c]),j(e[c],{...t,depth:n+1,maxDepth:i,existing:s})):y(t.propFunc,[e,c])};var N=Object.freeze({__proto__:null,clone:(e,t=0)=>((e,t)=>{if((e=new w(e,t)).isExisting)return e.done();console.groupCollapsed(`type: '${e.type}'`,e.value),e.existingObjects.push(e.value);const r=v(e);return r.existingObjects.push(r.value),console.log(r.existingObjects),console.groupEnd(),r.done()})(e,t),deepBase:j,_:(e,t)=>{const r={};let n=r;return j(e,{propFunc(e,t){n[t]=e[t]},propStructure(e,t){n[t]=n[t]||{},n=n[t]},structureFunc(...e){console.log(e)},depth:d([t,1/0])}),r},has:u,last:(e,t=1)=>e[e.length-t],first:(e,t=1)=>e[t-1],spread:(e,...t)=>{switch(typeof e){case"object":return Array.isArray(e)?e.concat(...t):Object.assign(e,...t);case"function":return e.apply({},t.flat());default:return e}},attach:(e,t)=>{},allKeys:l,property:(e,t)=>("string"==typeof t?t=t.split("."):"symbol"==typeof t?t=[t]:Array.isArray(t)&&(t=t.flatMap(e=>"string"==typeof e?e.split("."):e)),t.reduce((e,t)=>(u(e,t)||(e[t]={}),e[t]),e)),structure:p,and:(...e)=>{deep([e]),e.reduce()},xor:(...e)=>{},watch:(e,t,r)=>{const n=f.has(e)?f.get(e):{},i=Object.getOwnPropertyDescriptor(e,t);if(!i.hasOwnProperty("value"))return;n[t]=i,f.set(e,n);let s=e[t];Object.defineProperty(e,t,{get:()=>s,set:e=>{r(s,s=e)},enumerable:!0,configurable:!0})},watchStop:(e,t)=>{const r=f.get(e)[t];Object.defineProperty(e,t,{...r,value:e[t]})}});class S{constructor(e){const[t,r]=Num2FracStr(e).split(".");this.integer=t||"",this.decimal=r||"",this.negative=!1}toString(){const e=this.integer+(this.decimal&&"."+this.decimal);return(this.negative?"-":"+").concat(e)}_typeCheck(e){return Number.isNaN(e)||"string"!=typeof e&&!Number.isFinite(e)}add(e){if(this._typeCheck(e))return this;const t=e instanceof S?e:new S(e);let r=!1;const n=Math.max(t.integer.length,this.integer.length),i=Math.max(t.decimal.length,this.decimal.length),s=[...this.integer.padStart(n,"0"),...[...this.decimal.padEnd(i,"0")].reverse()],o=[...t.integer.padStart(n,"0"),...[...t.decimal.padEnd(i,"0")].reverse()];console.log({number1:s,number2:o,integerLength:n,decimalLength:i});const c=[...rei.utility.zip(s,o)].reduceRight((e,[t,n])=>{let i=Number(t)+Number(n)+r;return r=i>=10,r&&(i=Number(i)-10),String(i).concat(e)},"");return console.log(r),this.integer=(r?"1":"")+(i?c.slice(0,-i):c),this.decimal=i?c.slice(-i):"",this}sub(e){if(this._typeCheck(e))return this;new S(e);return this}mul(...e){for(const t of e)this._typeCheck(t);return this}div(...e){for(const t of e)this._typeCheck(t);return this}sur(e){return this}static eval(e){for(const t of e);}}const M=Math.sqrt(5);var k=Object.freeze({__proto__:null,NumToStr:e=>{const t=String(e),r=t.match(/^([+-]?)0*([1-9][0-9]*|)(?:\.([0-9]*[1-9]|)0*)?(?:[eE]([+-]?[0-9]+))?$/);if(!r){if("number"==typeof e)return t;throw new Error(`Invalid Number: "${t}"`)}const n="-"===r[1]?"-":"",i=r[2],s=r[3]?r[3]:"",o=Number(r[4]);let c="";if(o){const e=i+s,t=e.length;if(0<t){const r=i.length+o;c=t<=r?e.padEnd(r,"0"):0<r?e.slice(0,r)+"."+e.slice(r):"0."+"0".repeat(-r)+e}}else s?c=(i||"0")+"."+s:i&&(c=i);return c?n+c.replace(/^(?:0(?!\.|$))+/,"").replace(/(?:\.0+|(\.[0-9]*[1-9])0+)$/,"$1"):"0"},Num:e=>{const[t,r]=String(e).split(".");return{integer:t,decimal:r,negative:negative}},BigFloat:S,abs:e=>e<0||Object.is(-0,e)||Object.is(BigInt(-0),e)?-e:Number(e),min:(...e)=>e.reduce((e,t)=>e<t?e:t,1/0),max:(...e)=>e.reduce((e,t)=>e>t?e:t,-1/0),factorial:e=>{if(Number.isNaN(e)||!Number.isFinite(e)&&"bigint"!=typeof e||"number"!=typeof e&&"bigint"!=typeof e)return e;for(let t=e;t>2;e*=--t);return e||++e},fibonacci$:e=>{const t=Math.pow((1+M)/2,e),r=Math.pow((1-M)/2,e);return Math.round((t-r)/M)},fibonacci:function*(e=1/0){for(let t=1n,r=0n;e--;)yield r=t+(t=r)},prime:function*(e=1/0){yield 2;for(let t=3;e--;t+=2)a(t)?yield t:e++},primeFactorization:e=>{if(Number.isNaN(e)||!Number.isFinite(e)||"number"!=typeof e)return[];const t=[];for(;e%2==0;)t.push(2),e/=2;for(let r=3,n=Math.sqrt(e);r<=n;r+=2)for(;e%r==0;)t.push(r),e/=r;return e>1&&t.push(e),t}});
/*!
 * reiyayakko-core
 * Copyright 2020 reiyayakko
 */const x={version:"1.0.0"};export{x as env,k as math,N as object,O as utility};
