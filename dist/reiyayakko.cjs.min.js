"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(t){return Object.prototype.toString.call(t).slice(8,-1)},e=function(t){return void 0===t},n=function(t){return null===t||e(t)},r=function(e){return"Boolean"===t(e)},i=function(e){return"String"===t(e)},o=function(e){return"Number"===t(e)},u=function(e){return"Symbol"===t(e)},c=function(e){return"Function"===t(e)},a=function(t){return"object"==typeof t&&null!==t},s=function(e){return"Arguments"===t(e)},f=function(t){return o(t)&&t<0||Object.is(-0,t)},l=function(t){return o(t)&&t>0||Object.is(0,t)},p=function(t){return t===1/0||t===-1/0},v=function(t){return!!a(t)&&!!(Array.isArray(t)||s(t)||o(t.length))},g=function(t,n){for(var r=[],i=null;;){var o=n.call.apply(n,[this,i].concat(r));if(!e(o))return o}},h=function(t,n){return g.call(this,null(--t),(function(){var t=n.apply(this,arguments);if(!e(t))return t}))},d=function(t,n){var r;do{r=t.call(n)}while(e(r));return r},m=function(t,e,n){for(;t--;)n=e(n);return n},b=function(t){return t},y=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return c(t)?t.apply(this,e):t},N=function(t,e){return void 0===e&&(e=n),t.reduce((function(t,n){return e(t)?n:t}),t.shift())},O=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=t.shift(),r=Number.isNaN(n)?Number.isNaN:function(t){return n===t};return t.every(r)},w=function(t,e){return void 0===e&&(e=1),t[e-1]},j=function(t,e){return void 0===e&&(e=0),f(e)?t.length+e-1:e},S=function(t,e,n){void 0===n&&(n=0);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];e=j(t,e);var o=t.slice(0,e),u=t.slice(n+e);return o.concat.apply(o,r.concat([u]))},P=function(t,e){void 0===e&&(e=Object.keys);var n=e(t),r=v(t),i=n.every((function(n){return v(t[n])&&e(t[n]).every((function(t){return/\d/.test(t)}))}));return n.reduce((function(n,i){return e(t[i]).forEach((function(e){n[e]||(n[e]=r?[]:{}),n[e][i]=t[i][e]})),n}),i?[]:{})},x=Object.freeze({__proto__:null,argument:function(){return arguments},memoize:function(t,e){void 0===e&&(e=1/0);var n=function(){var e=forOf(n.memo,(function(t,e){if(deepEquals(t))return e}));if(isUndefined(e))return e;var r=t.apply(this,arguments);return n.memo.set(arguments,r),r};if(Array.isArray(e))n.memo=new Array(e.length),h(e.length,(function(t){n.memo[t]=new Map(e[t])}));else{var r=substitute([e,1],(function(t){return!Number.isFinite(t)}));n.memo=new Array(r),h(r,(function(t){n.memo[t]=new Map}))}return n},MemoMap:function(t){this.map=new Map(t)},gurop:function(t,e){void 0===e&&(e=b);var n={};return g(0,(function(t){var r=e(t);a(r)&&Object.entries(r);g(0,(function(t){var e=t[0],r=t[1];n[e]||(n[e]=[]),n[e].push(r)}))})),n},count:function(t,e){var n=0;return g(0,(function(t){n+=Boolean(e(t))})),n},generate:function(t,e,n){var r;do{var i=t.next();r=i.done,e.call(n,i.value)}while(!r)},generator:function(){},reduce:function(t,e,n,r){},callorElse:y,substitute:N,typeCheck:function(e,n,r,i){void 0===i&&(i=t);var o=i(e);return n.includes(o)?e:y(r,[o])},prop:function(t,e,n){return Object.entries(t).reduce((function(t,r){var i=r[0],o=r[1];return t[o]=N([i,e[o]],n),t}))},equals:O,equalsType:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return O(e.map(t))},last:function(t,e){return void 0===e&&(e=1),t[t.length-e]},first:w,splice:S,index:function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=null),n(r)?t[j(t,e)]:S(t,e,1,r)},iterableIndex:function(t,e){for(var n=t[Symbol.iterator]();--e;)n.next();return n.next().value},restSplit:function(t,e,n){void 0===n&&(n=0);var r=t.length-n,i=t.slice(e,r);return t.splice(e,r-e,i),t},isUndefined:e,isNull:n,isBoolean:r,isString:i,isNumber:o,isSymbol:u,isFunction:c,isObject:a,isObjectLike:function(t){return c(t)||a(t)},isArguments:s,isRegExp:function(e){return"RegExp"===t(e)},isError:function(e){return"Error"===t(e)},isMap:function(e){return"Map"===t(e)},isWeakMap:function(e){return"WeakMap"===t(e)},isSet:function(e){return"Set"===t(e)},isWeakSet:function(e){return"WeakSet"===t(e)},isTypedArray:function(e){return/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t(e))},isNegative:f,isPositive:l,isInfinity:p,isPrime:function(t){if(2===t)return!0;if(isNaN(t)||p(t)||!Number.isInteger(t)||t<2||t%2==0)return!1;for(var e=3,n=Math.sqrt(t);e<=n;e+=2)if(t%e==0)return!1;return!0},isOdd:function(t){return o(t)&&t%2==1},isEven:function(t){return o(t)&&t%2==0},isIterable:function(t){return a(t)&&c(t[Symbol.iterator])&&a(t[Symbol.iterator]())},isArrayLike:v,isEmpty:function(e){return i(e)||v(e)?0===e.length:"Object"===t(e)&&0===Object.keys(e).length},isThrowError:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];try{return t.apply(void 0,e),!1}catch(t){return!0}},forOf:g,forIndex:h,forIn:function(t,e,n){return"object"==typeof t&&(t=Object.entries(t)),h(t.length,(function(r){return e.call(n,t[r])}))},doWhile:d,previous:m,inOrder:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return g(0,(function(e){t=e(t)})),t},range:null,throttle:function(t,e){var n,r,i,u;return void 0===e&&(e=1e3),function(){o(n)?(r=!0,i=this,u=arguments):(t.apply(this,arguments),n=setTimeout((function(){r&&t.apply(i,u),r=!1,n=null}),e))}},debounce:function(t,e){var n;return void 0===e&&(e=1e3),function(){var r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){return t.apply(i,r)}),e)}},typeOf:t,toPrimitive:function(t){return a(t)?"valueOf"in t?t.valueOf():"toString"in t?t.toString():Symbol&&Symbol.toPrimitive in t?t[Symbol.toPrimitive]("default"):t:t},uniq:function(t){var e=[];return t.filter((function(t){var n=e.includes(t);return n||e.push(t),!n}))},zip:P}),M=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},_=function(t){return a(t)?[].concat(Object.getOwnPropertyNames(t)).concat(Object.getOwnPropertySymbols(t)):null},q=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),g(_(e),(function(n){var r=e[n];"object"==typeof r?q(t[n],r):t[n]=r})),t},A=function(t,e){var n,r,i,o,u,c,s,f;void 0===e&&(e={}),r=void 0===(r=(n=e).keys)?_:r,e.keys=r,i=void 0===(i=n.depth)?0:i,e.depth=i,o=void 0===(o=n.maxDepth)?1/0:o,e.maxDepth=o,u=void 0===(u=n.existing)?new WeakSet:u,e.existing=u,c=void 0===(c=n.structureCall)?console.log:c,e.structureCall=c,s=void 0===(s=n.propFuncIfObject)?console.log:s,e.propFuncIfObject=s,f=void 0===(f=n.propFunc)?console.log:f,e.propFunc=f,y(e.structureCall,t),g(e.keys(t),(function(n){!function(t,e,n){void 0===n&&(n={});var r=Object.getOwnPropertyDescriptor(t,e);if(a(r))y(n.propFuncIfObject,t,e),n.existing.has(r)||(n.existing.add(r),A(r,Object.assign({},n,{depth:n.depth+1})));else{var i=Object.getOwnPropertyDescriptor(t,e);y(n.propFunc,t,e,i)}}(t,n,e)}))},F=new WeakMap,I=Object.freeze({__proto__:null,deepBase:A,clone_WIP:function(t,e){var n={},r=n;return A(t,{propFunc:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);M(n,"value")&&(n.value=null),Object.defineProperty(r,e,n)},propFuncIfObject:function(t,e){var n=t[e],i=Object.getPrototypeOf(n),o=Object.create(i);r[e]=r[e]||o,r=r[e]},structureCall:function(t){console.log(t)},depth:N([e,1/0])}),console.log(t,"=>",n),n},has:M,allKeys:_,property:function(t,e,n){return void 0===n&&(n=!1),"string"==typeof e?e=e.split("."):u(e)?e=[e]:Array.isArray(e)&&(e=e.flatMap((function(t){return"string"==typeof t?t.split("."):t}))),e.reduce((function(t,e){return M(t,e)||n&&(t[e]={}),t[e]}),t)},structure:q,spread:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];switch(typeof t){case"object":return Array.isArray(t)?t.concat.apply(t,e):Object.assign.apply(Object,[t].concat(e));case"function":return t.apply({},e.flat());default:return t}},attach:function(t,e){},and:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];deep([t])},xor:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e]},watch:function(t,e,n){var r=F.has(t)?F.get(t):{},i=Object.getOwnPropertyDescriptor(t,e);if(i.hasOwnProperty("value")){r[e]=i,F.set(t,r);var o=t[e];Object.defineProperty(t,e,{get:function(){return o},set:function(t){n(o,o=t)},enumerable:!0,configurable:!0})}},watchStop:function(t,e){var n=F.get(t)[e];Object.defineProperty(t,e,Object.assign({},n,{value:t[e]}))}}),k=function(t){return t.integer.length<16&&!t.decimal},D=function(t){void 0===t&&(t=0),this.setNumber(t),this.format(),this.digits={integer:1e3,decimal:100,valid:16}};D.prototype.setSign=function(t){this.isPositive=i(t)?"-"!==w(t):o(t)?l(t):r(t)?t:t instanceof D?t.isPositive:null},D.prototype.setNumber=function(t){Number.isNaN(t)||p(t)?(this.exception=t,t=(Math.sign(t)||"").toString().slice(0,1)):this.exception=null;var e=(t=String(t))[0];this.setSign(e);var n=(t="-"===e||"+"===e?t.slice(1):t).indexOf("."),r=-1!==n?n:1/0;this.integer=t.slice(0,r),this.decimal=t.slice(r+1)},D.prototype.getNumber=function(t,e){void 0===t&&(t=1),void 0===e&&(e=0);var n=this.integer.padStart(t,"0")+this.decimal.padEnd(e,"0"),r=[];return h(n.length,(function(t){r.push(Number(n[t]))})),r},D.prototype.setDecimalPoint=function(t){void 0===t&&(t=0);var e=this.getNumber().join(""),n=e.length-t;this.integer=e.slice(0,n),this.decimal=e.slice(n)},D.prototype.format=function(){return this.integer=this.integer.replace(/^0+/,""),this.decimal=this.decimal.replace(/0+$/,""),this},D.prototype.toString=function(){return n(this.exception)?this.sign.concat(this.integer||"0",this.decimal?"."+this.decimal:""):String(this.exception)},D.prototype.valueOf=function(){return N([this.exception,this.toString()])},D.prototype.increment=function(t){return void 0===t&&(t=1),this.setNumber(D.addition(this,t)),this},D.prototype.decrement=function(t){return void 0===t&&(t=1),this.setNumber(D.subtraction(this,t)),this},D.prototype.trunc=function(t){return void 0===t&&(t=0),this.decimal=this.decimal.slice(0,t),this},D.prototype.floor=function(t){return void 0===t&&(t=0),this.trunc(t)},D.prototype.ceil=function(t){return void 0===t&&(t=0),w(this.decimal,t)&&this.increment(),this.trunc(t)},D.prototype.round=function(t){return void 0===t&&(t=0),Number(w(this.decimal,t))>=5&&this.increment(),this.trunc(t)},D.max2=function(t,e){if(t.integer.length!==e.integer.length)return t.integer.length>e.integer.length?t:e;var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)};P([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]);return g(0,(function(t){var e=t[0],n=t[1];return e!==n?e>n?e:n:void 0}))},D.addition=function(t,e){if(t=new D(t),e=new D(e),k(t)&&k(e))return new D(Number(t)+Number(e));if(t.isPositive!==e.isPositive)return e.setSign(!e.isPositive),D.subtraction(t,e);var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)},r=P([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]).reduceRight((function(t,e){var n=e[0],r=e[1],i=Number(w(t)),o=String(i+n+r);return S(t,0,1,o.padStart(2,"0"))}),"0"),i=new D;return i.setNumber(r),i.setDecimalPoint(n.decimal),i.setSign(t),i.format()},D.subtraction=function(t,e){if(t=new D(t),e=new D(e),k(t)&&k(e))return new D(Number(t)-Number(e));if(t.isPositive!==e.isPositive)return e.setSign(!e.isPositive),D.addition(t,e);var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)},r=!1,i=P([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]).reduceRight((function(t,e){var n=e[0]-e[1]-Number(r);return(r=f(n))&&(n+=10),S(t,0,1,String(Math.abs(n)).padStart(2,"0"))}),"0");if(r){var o="1"+"0".repeat(i.length-1);i=D.subtraction(o,i)}var u=new D;u.setNumber(i),u.setDecimalPoint(n.decimal);var c=D.max2(t,e);return u.isPositive=c===e?!e.isPositive:t.isPositive,u.format()},D.multiplication=function(t,e){if(t=new D(t),e=new D(e),D.equals(t,0)||D.equals(e,0))return new D;if(t.integer.length+e.integer.length<16&&!t.decimal&&!e.decimal)return new D(Number(t)*Number(e));var n=t.getNumber(),r=e.getNumber().reduceRight((function(t,e){var r=n.reduceRight((function(t,n){var r=Number(w(t)),i=String(r+e*n);return S(t,0,1,i.padStart(2,"0"))}),"0");return D.addition(t,r).toString()}),"0"),i=new D;return i.setNumber(r),i.setDecimalPoint(t.decimal.length+e.decimal.length),i.setSign(t.isPositive===e.isPositive),i.format()},D.prototype.power=function(){},D.division=function(t,e,n){if(t=new D(t),e=new D(e),D.equals(e,1/0))return new D;if(D.equals(e,-1/0))return new D(-0);if(D.equals(e,0))return new D(NaN);if(D.equals(t,0))return new D;var r=h(1/0,(function(n){return(t=D.subtraction(t,e)).isPositive?void 0:n})),i=new D;return i.setNumber(r),i.setDecimalPoint(),i.format()},D.surplus=function(t,e){var n=new D(t),r=new D(e);r.setSign(n);var i=new D(d((function(t){var e=D.subtraction(n,r);return D.equals(e,0)?0:n.isPositive===e.isPositive?(n=e,t):n})));return i.setSign(n),i},D.div_WIP=function(t,e,n){void 0===n&&(n=100);var r=[],i=!1,o=[],u=h(n,(function(){var n=Number(D.surplus(t,e));if(r.push((t-n)/e),0===n)return i=!0,-1;var u=o.indexOf(n);if(-1!==u)return i=!0,u;t=10*n,o.push(n)})),c=-1===u?1/0:u;return{integer:r.shift(),decimal:r.slice(0,c),"循環小数":r.slice(c),isComplete:i}},D.equals=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t=t.map((function(t){return new D(t).toString()})),O.apply(void 0,t)};var E=function(t,e,n){return 3===e?Math.pow(t,n):0===n?1:(console.log(t,e,n),e--,m(--n,(function(n){return console.log(n)||E(t,e,n)}),t))},W=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=t.reduce((function(t,e){return t+e}),0);return n/t.length},C=Math.sqrt(5),z=Object.freeze({__proto__:null,BigFloat:D,hyper:function(t,e,n){switch(void 0===n&&(n=t),e){case 0:return++n;case 1:return t+n;case 2:return t*n;default:return E(t,e,n)}},abs:function(t){return t<0||Object.is(-0,t)||Object.is(BigInt(-0),t)?-t:Number(t)},min:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.reduce((function(t,e){return t<e?t:e}),1/0)},max:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.reduce((function(t,e){return t>e?t:e}),-1/0)},factorial:function(t){if(Number.isNaN(t)||!Number.isFinite(t)&&"bigint"!=typeof t||"number"!=typeof t&&"bigint"!=typeof t)return t;for(var e=t;e>2;t*=--e);return t||++t},average:W,median:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t.sort();var n=(t.length+1)/2;return Number.isInteger(n)?t[n]:W(t[Math.floor(n)],t[Math.ceil(n)])},fibonacci$:function(t){var e=Math.pow((1+C)/2,t),n=Math.pow((1-C)/2,t);return Math.round((e-n)/C)},primeFactorization:function(t){if(Number.isNaN(t)||!Number.isFinite(t)||"number"!=typeof t)return[];for(var e=[];t%2==0;)e.push(2),t/=2;for(var n=3,r=Math.sqrt(t);n<=r;n+=2)for(;t%n==0;)e.push(n),t/=n;return t>1&&e.push(t),e}});exports.env={version:"1.1.1"},exports.math=z,exports.object=I,exports.utility=x;
