!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).rei={})}(this,(function(t){"use strict";var e=function(t){return Object.prototype.toString.call(t).slice(8,-1)},n=function(t){return void 0===t},r=function(t){return null===t||n(t)},i=function(t){return"Boolean"===e(t)},o=function(t){return"String"===e(t)},u=function(t){return"Number"===e(t)},c=function(t){return"Symbol"===e(t)},a=function(t){return"Function"===e(t)},s=function(t){return"object"==typeof t&&null!==t},f=function(t){return"Arguments"===e(t)},l=function(t){return u(t)&&t<0||Object.is(-0,t)},p=function(t){return u(t)&&t>0||Object.is(0,t)},v=function(t){return t===1/0||t===-1/0},g=function(t){return!!s(t)&&!!(Array.isArray(t)||f(t)||u(t.length))},d=function(t,e){for(var r=[],i=null;;){var o=e.call.apply(e,[this,i].concat(r));if(!n(o))return o}},h=function(t,e){return d.call(this,null(--t),(function(){var t=e.apply(this,arguments);if(!n(t))return t}))},m=function(t,e){var r;do{r=t.call(e)}while(n(r));return r},b=function(t,e,n){for(;t--;)n=e(n);return n},y=function(t){return t},N=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return a(t)?t.apply(this,e):t},O=function(t,e){return void 0===e&&(e=r),t.reduce((function(t,n){return e(t)?n:t}),t.shift())},w=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=t.shift(),r=Number.isNaN(n)?Number.isNaN:function(t){return n===t};return t.every(r)},j=function(t,e){return void 0===e&&(e=1),t[e-1]},S=function(t,e){return void 0===e&&(e=0),l(e)?t.length+e-1:e},P=function(t,e,n){void 0===n&&(n=0);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];e=S(t,e);var o=t.slice(0,e),u=t.slice(n+e);return o.concat.apply(o,r.concat([u]))},x=function(t,e){void 0===e&&(e=Object.keys);var n=e(t),r=g(t),i=n.every((function(n){return g(t[n])&&e(t[n]).every((function(t){return/\d/.test(t)}))}));return n.reduce((function(n,i){return e(t[i]).forEach((function(e){n[e]||(n[e]=r?[]:{}),n[e][i]=t[i][e]})),n}),i?[]:{})},M=Object.freeze({__proto__:null,argument:function(){return arguments},memoize:function(t,e){void 0===e&&(e=1/0);var n=function(){var e=forOf(n.memo,(function(t,e){if(deepEquals(t))return e}));if(isUndefined(e))return e;var r=t.apply(this,arguments);return n.memo.set(arguments,r),r};if(Array.isArray(e))n.memo=new Array(e.length),h(e.length,(function(t){n.memo[t]=new Map(e[t])}));else{var r=substitute([e,1],(function(t){return!Number.isFinite(t)}));n.memo=new Array(r),h(r,(function(t){n.memo[t]=new Map}))}return n},MemoMap:function(t){this.map=new Map(t)},gurop:function(t,e){void 0===e&&(e=y);var n={};return d(0,(function(t){var r=e(t);s(r)&&Object.entries(r);d(0,(function(t){var e=t[0],r=t[1];n[e]||(n[e]=[]),n[e].push(r)}))})),n},count:function(t,e){var n=0;return d(0,(function(t){n+=Boolean(e(t))})),n},generate:function(t,e,n){var r;do{var i=t.next();r=i.done,e.call(n,i.value)}while(!r)},generator:function(){},reduce:function(t,e,n,r){},callorElse:N,substitute:O,typeCheck:function(t,n,r,i){void 0===i&&(i=e);var o=i(t);return n.includes(o)?t:N(r,[o])},prop:function(t,e,n){return Object.entries(t).reduce((function(t,r){var i=r[0],o=r[1];return t[o]=O([i,e[o]],n),t}))},equals:w,equalsType:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return w(t.map(e))},last:function(t,e){return void 0===e&&(e=1),t[t.length-e]},first:j,splice:P,index:function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),r(n)?t[S(t,e)]:P(t,e,1,n)},iterableIndex:function(t,e){for(var n=t[Symbol.iterator]();--e;)n.next();return n.next().value},restSplit:function(t,e,n){void 0===n&&(n=0);var r=t.length-n,i=t.slice(e,r);return t.splice(e,r-e,i),t},isUndefined:n,isNull:r,isBoolean:i,isString:o,isNumber:u,isSymbol:c,isFunction:a,isObject:s,isObjectLike:function(t){return a(t)||s(t)},isArguments:f,isRegExp:function(t){return"RegExp"===e(t)},isError:function(t){return"Error"===e(t)},isMap:function(t){return"Map"===e(t)},isWeakMap:function(t){return"WeakMap"===e(t)},isSet:function(t){return"Set"===e(t)},isWeakSet:function(t){return"WeakSet"===e(t)},isTypedArray:function(t){return/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e(t))},isNegative:l,isPositive:p,isInfinity:v,isPrime:function(t){if(2===t)return!0;if(isNaN(t)||v(t)||!Number.isInteger(t)||t<2||t%2==0)return!1;for(var e=3,n=Math.sqrt(t);e<=n;e+=2)if(t%e==0)return!1;return!0},isOdd:function(t){return u(t)&&t%2==1},isEven:function(t){return u(t)&&t%2==0},isIterable:function(t){return s(t)&&a(t[Symbol.iterator])&&s(t[Symbol.iterator]())},isArrayLike:g,isEmpty:function(t){return o(t)||g(t)?0===t.length:"Object"===e(t)&&0===Object.keys(t).length},isThrowError:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];try{return t.apply(void 0,e),!1}catch(t){return!0}},forOf:d,forIndex:h,forIn:function(t,e,n){return"object"==typeof t&&(t=Object.entries(t)),h(t.length,(function(r){return e.call(n,t[r])}))},doWhile:m,previous:b,inOrder:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return d(0,(function(e){t=e(t)})),t},range:null,throttle:function(t,e){var n,r,i,o;return void 0===e&&(e=1e3),function(){u(n)?(r=!0,i=this,o=arguments):(t.apply(this,arguments),n=setTimeout((function(){r&&t.apply(i,o),r=!1,n=null}),e))}},debounce:function(t,e){var n;return void 0===e&&(e=1e3),function(){var r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){return t.apply(i,r)}),e)}},typeOf:e,toPrimitive:function(t){return s(t)?"valueOf"in t?t.valueOf():"toString"in t?t.toString():Symbol&&Symbol.toPrimitive in t?t[Symbol.toPrimitive]("default"):t:t},uniq:function(t){var e=[];return t.filter((function(t){var n=e.includes(t);return n||e.push(t),!n}))},zip:x}),_=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},q=function(t){return s(t)?[].concat(Object.getOwnPropertyNames(t)).concat(Object.getOwnPropertySymbols(t)):null},A=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),d(q(e),(function(n){var r=e[n];"object"==typeof r?A(t[n],r):t[n]=r})),t},F=function(t,e){var n,r,i,o,u,c,a,f;void 0===e&&(e={}),r=void 0===(r=(n=e).keys)?q:r,e.keys=r,i=void 0===(i=n.depth)?0:i,e.depth=i,o=void 0===(o=n.maxDepth)?1/0:o,e.maxDepth=o,u=void 0===(u=n.existing)?new WeakSet:u,e.existing=u,c=void 0===(c=n.structureCall)?console.log:c,e.structureCall=c,a=void 0===(a=n.propFuncIfObject)?console.log:a,e.propFuncIfObject=a,f=void 0===(f=n.propFunc)?console.log:f,e.propFunc=f,N(e.structureCall,t),d(e.keys(t),(function(n){!function(t,e,n){void 0===n&&(n={});var r=Object.getOwnPropertyDescriptor(t,e);if(s(r))N(n.propFuncIfObject,t,e),n.existing.has(r)||(n.existing.add(r),F(r,Object.assign({},n,{depth:n.depth+1})));else{var i=Object.getOwnPropertyDescriptor(t,e);N(n.propFunc,t,e,i)}}(t,n,e)}))},I=new WeakMap,k=Object.freeze({__proto__:null,deepBase:F,clone_WIP:function(t,e){var n={},r=n;return F(t,{propFunc:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);_(n,"value")&&(n.value=null),Object.defineProperty(r,e,n)},propFuncIfObject:function(t,e){var n=t[e],i=Object.getPrototypeOf(n),o=Object.create(i);r[e]=r[e]||o,r=r[e]},structureCall:function(t){console.log(t)},depth:O([e,1/0])}),console.log(t,"=>",n),n},has:_,allKeys:q,property:function(t,e,n){return void 0===n&&(n=!1),"string"==typeof e?e=e.split("."):c(e)?e=[e]:Array.isArray(e)&&(e=e.flatMap((function(t){return"string"==typeof t?t.split("."):t}))),e.reduce((function(t,e){return _(t,e)||n&&(t[e]={}),t[e]}),t)},structure:A,spread:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];switch(typeof t){case"object":return Array.isArray(t)?t.concat.apply(t,e):Object.assign.apply(Object,[t].concat(e));case"function":return t.apply({},e.flat());default:return t}},attach:function(t,e){},and:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];deep([t])},xor:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e]},watch:function(t,e,n){var r=I.has(t)?I.get(t):{},i=Object.getOwnPropertyDescriptor(t,e);if(i.hasOwnProperty("value")){r[e]=i,I.set(t,r);var o=t[e];Object.defineProperty(t,e,{get:function(){return o},set:function(t){n(o,o=t)},enumerable:!0,configurable:!0})}},watchStop:function(t,e){var n=I.get(t)[e];Object.defineProperty(t,e,Object.assign({},n,{value:t[e]}))}}),D=function(t){return t.integer.length<16&&!t.decimal},E=function(t){void 0===t&&(t=0),this.setNumber(t),this.format(),this.digits={integer:1e3,decimal:100,valid:16}};E.prototype.setSign=function(t){this.isPositive=o(t)?"-"!==j(t):u(t)?p(t):i(t)?t:t instanceof E?t.isPositive:null},E.prototype.setNumber=function(t){Number.isNaN(t)||v(t)?(this.exception=t,t=(Math.sign(t)||"").toString().slice(0,1)):this.exception=null;var e=(t=String(t))[0];this.setSign(e);var n=(t="-"===e||"+"===e?t.slice(1):t).indexOf("."),r=-1!==n?n:1/0;this.integer=t.slice(0,r),this.decimal=t.slice(r+1)},E.prototype.getNumber=function(t,e){void 0===t&&(t=1),void 0===e&&(e=0);var n=this.integer.padStart(t,"0")+this.decimal.padEnd(e,"0"),r=[];return h(n.length,(function(t){r.push(Number(n[t]))})),r},E.prototype.setDecimalPoint=function(t){void 0===t&&(t=0);var e=this.getNumber().join(""),n=e.length-t;this.integer=e.slice(0,n),this.decimal=e.slice(n)},E.prototype.format=function(){return this.integer=this.integer.replace(/^0+/,""),this.decimal=this.decimal.replace(/0+$/,""),this},E.prototype.toString=function(){return r(this.exception)?this.sign.concat(this.integer||"0",this.decimal?"."+this.decimal:""):String(this.exception)},E.prototype.valueOf=function(){return O([this.exception,this.toString()])},E.prototype.increment=function(t){return void 0===t&&(t=1),this.setNumber(E.addition(this,t)),this},E.prototype.decrement=function(t){return void 0===t&&(t=1),this.setNumber(E.subtraction(this,t)),this},E.prototype.trunc=function(t){return void 0===t&&(t=0),this.decimal=this.decimal.slice(0,t),this},E.prototype.floor=function(t){return void 0===t&&(t=0),this.trunc(t)},E.prototype.ceil=function(t){return void 0===t&&(t=0),j(this.decimal,t)&&this.increment(),this.trunc(t)},E.prototype.round=function(t){return void 0===t&&(t=0),Number(j(this.decimal,t))>=5&&this.increment(),this.trunc(t)},E.max2=function(t,e){if(t.integer.length!==e.integer.length)return t.integer.length>e.integer.length?t:e;var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)};x([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]);return d(0,(function(t){var e=t[0],n=t[1];return e!==n?e>n?e:n:void 0}))},E.addition=function(t,e){if(t=new E(t),e=new E(e),D(t)&&D(e))return new E(Number(t)+Number(e));if(t.isPositive!==e.isPositive)return e.setSign(!e.isPositive),E.subtraction(t,e);var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)},r=x([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]).reduceRight((function(t,e){var n=e[0],r=e[1],i=Number(j(t)),o=String(i+n+r);return P(t,0,1,o.padStart(2,"0"))}),"0"),i=new E;return i.setNumber(r),i.setDecimalPoint(n.decimal),i.setSign(t),i.format()},E.subtraction=function(t,e){if(t=new E(t),e=new E(e),D(t)&&D(e))return new E(Number(t)-Number(e));if(t.isPositive!==e.isPositive)return e.setSign(!e.isPositive),E.addition(t,e);var n={integer:Math.max(t.integer.length,e.integer.length),decimal:Math.max(t.decimal.length,e.decimal.length)},r=!1,i=x([t.getNumber(n.integer,n.decimal),e.getNumber(n.integer,n.decimal)]).reduceRight((function(t,e){var n=e[0]-e[1]-Number(r);return(r=l(n))&&(n+=10),P(t,0,1,String(Math.abs(n)).padStart(2,"0"))}),"0");if(r){var o="1"+"0".repeat(i.length-1);i=E.subtraction(o,i)}var u=new E;u.setNumber(i),u.setDecimalPoint(n.decimal);var c=E.max2(t,e);return u.isPositive=c===e?!e.isPositive:t.isPositive,u.format()},E.multiplication=function(t,e){if(t=new E(t),e=new E(e),E.equals(t,0)||E.equals(e,0))return new E;if(t.integer.length+e.integer.length<16&&!t.decimal&&!e.decimal)return new E(Number(t)*Number(e));var n=t.getNumber(),r=e.getNumber().reduceRight((function(t,e){var r=n.reduceRight((function(t,n){var r=Number(j(t)),i=String(r+e*n);return P(t,0,1,i.padStart(2,"0"))}),"0");return E.addition(t,r).toString()}),"0"),i=new E;return i.setNumber(r),i.setDecimalPoint(t.decimal.length+e.decimal.length),i.setSign(t.isPositive===e.isPositive),i.format()},E.prototype.power=function(){},E.division=function(t,e,n){if(t=new E(t),e=new E(e),E.equals(e,1/0))return new E;if(E.equals(e,-1/0))return new E(-0);if(E.equals(e,0))return new E(NaN);if(E.equals(t,0))return new E;var r=h(1/0,(function(n){return(t=E.subtraction(t,e)).isPositive?void 0:n})),i=new E;return i.setNumber(r),i.setDecimalPoint(),i.format()},E.surplus=function(t,e){var n=new E(t),r=new E(e);r.setSign(n);var i=new E(m((function(t){var e=E.subtraction(n,r);return E.equals(e,0)?0:n.isPositive===e.isPositive?(n=e,t):n})));return i.setSign(n),i},E.div_WIP=function(t,e,n){void 0===n&&(n=100);var r=[],i=!1,o=[],u=h(n,(function(){var n=Number(E.surplus(t,e));if(r.push((t-n)/e),0===n)return i=!0,-1;var u=o.indexOf(n);if(-1!==u)return i=!0,u;t=10*n,o.push(n)})),c=-1===u?1/0:u;return{integer:r.shift(),decimal:r.slice(0,c),"循環小数":r.slice(c),isComplete:i}},E.equals=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t=t.map((function(t){return new E(t).toString()})),w.apply(void 0,t)};var W=function(t,e,n){return 3===e?Math.pow(t,n):0===n?1:(console.log(t,e,n),e--,b(--n,(function(n){return console.log(n)||W(t,e,n)}),t))},C=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=t.reduce((function(t,e){return t+e}),0);return n/t.length},z=Math.sqrt(5),B=Object.freeze({__proto__:null,BigFloat:E,hyper:function(t,e,n){switch(void 0===n&&(n=t),e){case 0:return++n;case 1:return t+n;case 2:return t*n;default:return W(t,e,n)}},abs:function(t){return t<0||Object.is(-0,t)||Object.is(BigInt(-0),t)?-t:Number(t)},min:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.reduce((function(t,e){return t<e?t:e}),1/0)},max:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.reduce((function(t,e){return t>e?t:e}),-1/0)},factorial:function(t){if(Number.isNaN(t)||!Number.isFinite(t)&&"bigint"!=typeof t||"number"!=typeof t&&"bigint"!=typeof t)return t;for(var e=t;e>2;t*=--e);return t||++t},average:C,median:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t.sort();var n=(t.length+1)/2;return Number.isInteger(n)?t[n]:C(t[Math.floor(n)],t[Math.ceil(n)])},fibonacci$:function(t){var e=Math.pow((1+z)/2,t),n=Math.pow((1-z)/2,t);return Math.round((e-n)/z)},primeFactorization:function(t){if(Number.isNaN(t)||!Number.isFinite(t)||"number"!=typeof t)return[];for(var e=[];t%2==0;)e.push(2),t/=2;for(var n=3,r=Math.sqrt(t);n<=r;n+=2)for(;t%n==0;)e.push(n),t/=n;return t>1&&e.push(t),e}});t.env={version:"1.1.1"},t.math=B,t.object=k,t.utility=M,Object.defineProperty(t,"__esModule",{value:!0})}));
